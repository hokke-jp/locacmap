<% provide(:title, "検索") %>

<h1 class="page-title">検索</h1>

<div class="w-11/12 mx-auto border-b-2 text-center">

  <!-- 検索フォーム -->
  <%= form_with url: search_path, class: "inline-block max-w-xl md:w-4/5 mt-8 mb-8 pt-10 px-10 pb-5 rounded bg-gray-200", method: :get do |f| %>
    <div class="md:flex md:justify-between">
      <%= f.search_field :search, class: "block w-64 mx-auto mb-8 border border-gray-700 rounded leading-8", placeholder: "キーワード検索" %>
      <div class="">
        <%= f.collection_select :prefecture_id, Prefecture.all, :id, :name, {include_blank: '都道府県'}, {class: "tag mr-4"} %>
        <%= f.collection_select :period_id, Period.all, :id, :name, {include_blank: '時代'}, {class: "tag"} %>
      </div>
    </div>
    <div class="mb-5 text-center">
      <%= f.submit 'Search', class: "btn-blue font-semibold" %>
    </div>

    <!-- 検索結果とマップリンク表示 -->
    <div class="text-center">
      <div id="search-conditions"></div>
      <div id="link-to-map" class=""></div>
    </div>

  <% end %>

</div>

<!-- 並び替え -->
<fieldset id="fieldset" class="my-1 text-center">
  <input id="latest" class="radio-inline__input" type="radio" name="accessible-radio" checked="checked"/>
  <label for="latest" id="latest-label" class="radio-inline__label">
      <%= link_to "最新", sort_path(microposts_ids: @microposts_ids, sort: "latest"), {remote: true, class: "block p-3"} %>
  </label>

  <input id="going" class="radio-inline__input" type="radio" name="accessible-radio"/>
  <label for="going" id="going-label" class="radio-inline__label">
      <%= link_to "行ってみたい!", sort_path(microposts_ids: @microposts_ids, sort: "going"), {remote: true, class: "block p-3"} %>
  </label>

  <input id="period-asc" class="radio-inline__input" type="radio" name="accessible-radio"/>
  <label for="period-asc" id="period-asc-label" class="radio-inline__label">
      <%= link_to "時代昇順", sort_path(microposts_ids: @microposts_ids, sort: "period-asc"), {remote: true, class: "block p-3"} %>
  </label>

  <input id="period-desc" class="radio-inline__input" type="radio" name="accessible-radio"/>
  <label for="period-desc" id="period-desc-label" class="radio-inline__label">
      <%= link_to "時代降順", sort_path(microposts_ids: @microposts_ids, sort: "period-desc"), {remote: true, class: "block p-3"} %>
  </label>
</fieldset>


<!-- micropost表示 -->
<div id="microposts">
  <%= render 'shared/microposts', microposts: @microposts %>
</div>

